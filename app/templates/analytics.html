{% extends "base.html" %}
{% block content %}
<div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    
    <div class="glass rounded-2xl p-6">
        <h3 class="text-lg font-bold text-gray-300 mb-4">Monthly Revenue</h3>
        <canvas id="revenueChart"></canvas>
    </div>

    <div class="bg-gradient-to-br from-white to-gray-200 text-black rounded-2xl p-8 flex flex-col justify-center items-center">
        <h3 class="uppercase tracking-widest text-xs font-bold mb-2 opacity-60">Total Year Revenue</h3>
        <p class="text-5xl font-bold mb-4">₹ {{ "{:,.0f}".format(values|sum) }}</p>
        <p class="text-sm opacity-60">Calculated across {{ labels|length }} active months</p>
    </div>

</div>

<script>
    const ctx = document.getElementById('revenueChart');
    Chart.defaults.color = '#888';
    Chart.defaults.borderColor = 'rgba(255,255,255,0.1)';
    new Chart(ctx, {
        type: 'bar',
        data: {
            labels: {{ labels | tojson }},
            datasets: [{
                label: 'Revenue (₹)',
                data: {{ values | tojson }},
                backgroundColor: 'white',
                borderRadius: 4
            }]
        },
        options: {
            responsive: true,
            scales: { y: { beginAtZero: true, grid: { display: false } }, x: { grid: { display: false } } }
        }
    });
</script>
{% endblock %}